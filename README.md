# Synthesizer
CMSC 22311 Final Project

## Overview

This is a basic digital audio synthesizer written in Haskell. To run the 
program, the [Sound eXchange utility](http://sox.sourceforge.net/) must be 
installed: the `play` and `sox` executables must be configured in the user's
system `PATH`.

## Commands

Users interact with the synthesizer program using a shell-like interface. The
following commands are available for use.

### Play

**play** _note1_ [_note2_] ...

Play a sequence of notes. Notes must be in scientific pitch notation, separated
by spaces. Ex:

    play A3 B3 C#4 D4 E4 F#4 G#4 A4

plays an A-major scale starting at the A below middle C.

**play** midi _file_

Play notes from a .midi file. All tracks in the .midi file are merged, and
the synthesizer plays notes in all of the tracks simultaneously. Note velocity
is ignored.

### Set

**set** _synth-param_ _value_

Set the specified _synth-param_ to the given _value_. Valid _synth-param_
specifiers are:
* samplerate: The samplerate used in playback.
* bpm: Beats per minute used for playback.
* amp: Volume of the synth.
* attack: Attack duration, in seconds, of the envelope.
* decay: Decay duration in seconds of the envelope.
* sustain: Sustain level of the envelope.
* release: Release duration in seconds of the envelope.

**set** osc _osc-index_ _osc-param_ _value_

Set the specified _osc-param_ of the oscillator at the given _osc-index_ to the
given _value_. Valid _osc-param_ specifiers are:
* amp: Volume of the oscillator.
* phase: Phase offset, in seconds, of the oscillator.
* wave: Wave table to be used by the oscillator. The wave table must name an
existing .wavetable file in the /data/ directory.

### Add

**add** osc _osc-type_

Add an oscillator that loads the wave table given by _osc-type_ to the synth.

### Output

**output** _note1_ [_note2_] ... _outfile_

Output all notes to the given _outfile_ in .wav format.

**output** midi _infile_ _outfile_

Load a .midi file, and output the sound to the _outfile_ in .wav format.

## Wave Tables

The synthesizer creates sound using custom wave tables that are loaded into the
program upon execution. Some default wave tables are generated by the
synthesizer and are stored in the `/data/` folder. These default wave tables
include basic sine, triangle, and sawtooth waves.

The user can allow the synthesizer to load custom wave tables in addition to
the provided defaults. 

Oscillators can be set to use any loaded wave table using the **set** command.
